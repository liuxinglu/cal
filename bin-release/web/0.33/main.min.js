var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},lxl;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addListener=function(t,e,n,i,s){void 0===i&&(i=!1),void 0===s&&(s=0),this.addEventListener(t,e,n,i,s)},e.prototype.removeListener=function(t,e,n,i){void 0===i&&(i=!1),this.removeEventListener(t,e,n,i)},e.prototype.dispatch=function(t){return this.dispatchEvent(t)},e.prototype.hasListener=function(t){return this.hasEventListener(t)},e.prototype.willTrigger=function(t){return this.willTrigger(t)},e.prototype.once=function(t,e,n,i,s){return this.once(t,e,n,i,s)},e}(egret.EventDispatcher);t.CDispatcher=e,__reflect(e.prototype,"lxl.CDispatcher")}(lxl||(lxl={}));var lxl;!function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.hasActivi=!1,i.hasDispos=!1,i.addEventListener(eui.UIEvent.COMPLETE,i.loadComplete,i),i.skinName=t.Tool.callJS("getURL")+n,i.funOnActivity=i.onActivity,i.funDispose=i.dispose,i}return __extends(n,e),n.prototype.loadComplete=function(){var e=this;egret.Tween.get(this).wait(.1).call(function(){e.addEventListener(eui.UIEvent.ADDED_TO_STAGE,e.onActivity,e),e.dispatchEvent(new egret.Event(t.CEvent.LOAD_SKIN_COMPLETE,e.param))},this)},n.prototype.onActivity=function(){for(var t=0;t<this.numChildren;t++)this.doAcivity(this.getChildAt(t));this.hasActivi=!0},n.prototype.doAcivity=function(t){if(t.hasOwnProperty("funOnActivity")&&0==t.hasActivi&&t.funOnActivity(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doAcivity(t.getChildAt(e))},n.prototype.dispose=function(t){var e=this;void 0===t&&(t=!0),this.removeEventListener(eui.UIEvent.COMPLETE,this.loadComplete,this),this.removeEventListener(eui.UIEvent.ADDED_TO_STAGE,this.onActivity,this);for(var n=0;n<this.numChildren;n++)this.doDispos(this.getChildAt(n));1==t&&egret.Tween.get(this).to({y:0-this.stage.stageHeight/2,alpha:0},100).call(function(){e.parent&&e.parent.removeChild(e)},this),this.hasDispos=!0},n.prototype.doDispos=function(t){if(t.hasOwnProperty("funDispose")&&0==t.hasDispos&&t.funDispose(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doDispos(t.getChildAt(e))},n.prototype.createChildren=function(){e.prototype.createChildren.call(this)},n.prototype.removeChildByName=function(t){this.removeChild(this.getChildByName(t))},n.prototype.pop=function(e,n){var i=this;void 0===n&&(n=!1),e.addEventListener(t.CEvent.LOAD_SKIN_COMPLETE,function(){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=i.stage.stageWidth/2,0==n?e.y=i.stage.stageHeight/2:(e.y=0,e.alpha=0),i.addChild(e),1==n&&egret.Tween.get(e).to({y:i.stage.stageHeight/2,alpha:1},200).to({y:i.stage.stageHeight/2-30},100).to({y:i.stage.stageHeight/2+10},100).to({y:i.stage.stageHeight/2},100)},this)},n}(eui.Component);t.CComponent=e,__reflect(e.prototype,"lxl.CComponent")}(lxl||(lxl={}));var lxl;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.loadConfig=function(t,e){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this._configComplete,this),RES.loadConfig(t,e)},n.prototype._configComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this._configComplete,this),this.dispatch(new t.CEvent(t.CEvent.LOAD_CONFIG_COMPLETE,e))},n.prototype.loadGroup=function(t){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this._onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this._onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this._onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this._onItemLoadError,this),RES.loadGroup(t)},n.prototype._onResourceLoadComplete=function(e){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this._onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this._onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this._onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this._onItemLoadError,this),this.dispatch(new t.CEvent(t.CEvent.LOAD_GROUP_COMPLETE,e))},n.prototype.getRes=function(t){return RES.getRes(t)},n.prototype.getResAsync=function(t,e,n){RES.getResAsync(t,e,n)},n.prototype.getResByUrl=function(e,n,i,s){var r=new egret.URLLoader;r.addEventListener(egret.Event.COMPLETE,n,i),r.dataFormat=s;var a=new egret.URLRequest(t.Tool.callJS("getURL")+e);r.load(a)},n.prototype._onResourceLoadError=function(e){t.logs.log("Group:"+e.groupName+"加载失败"),this._onResourceLoadComplete(e)},n.prototype._onItemLoadError=function(e){t.logs.log("URL:"+e.resItem.url+" 加载出错")},n.prototype._onResourceProgress=function(e){this.dispatch(new t.CEvent(t.CEvent.LOAD_PROGRESS,e))},n.prototype.getMovieClip=function(t,e,n){var i=RES.getRes(t),s=RES.getRes(e),r=new egret.MovieClipDataFactory(i,s),a=new egret.MovieClip(r.generateMovieClipData(n));return a},n.prototype.getMovieClipAsync=function(e,n,i,s,r){var a,o,l,h=0,c=function(){if(h++,2==h){var t=new egret.MovieClipDataFactory(o,a);l=new egret.MovieClip(t.generateMovieClipData(i)),s.call(r,l)}};this.getResByUrl(t.Config.MC_PATH+n,function(t){a=t.currentTarget.data,c()},this,egret.URLLoaderDataFormat.TEXTURE),this.getResByUrl(t.Config.MC_PATH+n,function(t){o=JSON.parse(t.currentTarget.data),c()},this,egret.URLLoaderDataFormat.TEXT)},n.prototype.getParticleSystem=function(t,e){RES.getRes(e),RES.getRes(t)},n}(t.CDispatcher);t.ResManager=e,__reflect(e.prototype,"lxl.ResManager")}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,"")||this}return __extends(n,e),n.prototype.onOK=function(){close(),null!=this.okHandler&&this.okHandler.call(this.ctx)},n.prototype.show=function(t,e,n){this.okHandler=e,this.ctx=n,this.label.text=t,egret.Tween.get(this).to({alpha:1},800,egret.Ease.quintOut)},n.prototype.close=function(){var t=this;egret.Tween.get(this).to({alpha:0},1200,egret.Ease.quintIn).call(function(){t.parent&&t.parent.removeChild(t)})},n.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_ok.addEventListener(t.CEvent.CLICK,this.onOK,this)},n}(t.CComponent);e.AlertPanel=n,__reflect(n.prototype,"lxl.ui.AlertPanel")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(){var t=e.call(this)||this;return t.hasActivi=!1,t.hasDispos=!1,t.addEventListener(eui.UIEvent.ADDED_TO_STAGE,t.onActivity,t),t.addEventListener(eui.UIEvent.REMOVED_FROM_STAGE,t.dispose,t),t.funOnActivity=t.onActivity,t.funDispose=t.dispose,t}return __extends(n,e),n.prototype.onActivity=function(){for(var t=0;t<this.numChildren;t++)this.doAcivity(this.getChildAt(t));this.hasActivi=!0},n.prototype.doAcivity=function(t){if(t.hasOwnProperty("funOnActivity")&&0==t.hasActivi&&t.funOnActivity(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doAcivity(t.getChildAt(e))},n.prototype.dispose=function(){for(var t=0;t<this.numChildren;t++)this.doDispos(this.getChildAt(t));this.parent.removeChild(this),this.hasDispos=!0},n.prototype.doDispos=function(t){if(t.hasOwnProperty("funDispose")&&0==t.hasDispos&&t.funDispose(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doDispos(t.getChildAt(e))},n.prototype.pop=function(e,n){var i=this;void 0===n&&(n=!1),e.addEventListener(t.CEvent.LOAD_SKIN_COMPLETE,function(){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=i.stage.stageWidth/2,0==n?e.y=i.stage.stageHeight/2:(e.y=0,e.alpha=0),i.addChild(e),1==n&&egret.Tween.get(e).to({y:i.stage.stageHeight/2,alpha:1},200).to({y:i.stage.stageHeight/2-30},100).to({y:i.stage.stageHeight/2+10},100).to({y:i.stage.stageHeight/2},100)},this),this.addChild(e)},n.prototype.removeChildByName=function(t){this.removeChild(this.getChildByName(t))},n}(eui.UILayer);e.CLayer=n,__reflect(n.prototype,"lxl.ui.CLayer")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,"")||this}return __extends(n,e),n.prototype.onOK=function(){close(),null!=this.okHandler&&this.okHandler.call(this.ctx)},n.prototype.onCancel=function(){close(),null!=this.cancelHandler&&this.cancelHandler.call(this.ctx)},n.prototype.show=function(t,e,n,i){this.okHandler=e,this.ctx=i,this.label.text=t,egret.Tween.get(this).to({alpha:1},800,egret.Ease.quintOut)},n.prototype.close=function(){var t=this;egret.Tween.get(this).to({alpha:0},1200,egret.Ease.quintIn).call(function(){t.parent&&t.parent.removeChild(t)})},n.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_ok.addEventListener(t.CEvent.CLICK,this.onOK,this),this.btn_cancel.addEventListener(t.CEvent.CLICK,this.onCancel,this)},n}(t.CComponent);e.ConfirmPanel=n,__reflect(n.prototype,"lxl.ui.ConfirmPanel")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var app;!function(t){var e=function(){function e(){this.gradeArr=["一年级","二年级","三年级","四年级","五年级"],this.curGrade=1,this.plan=[[1,3,0],[1,3,0],[1,3,0]],this.curShift=0,this.curMode=0,this.curKnowledges=[],this.curTestIndex=0,this.needCheckKnowledges=[],this.curIndex=0,this.curQs=[],this.tiaoZhanSeconds=0,this.cuoTiBen=[],this.curQs2=[],this.MAX_SIZE=20,this._gradeMaxCount=[40,20,40,80,9],this.indexs=[]}return e.prototype.getTiaoZhanQs=function(){var t=[],e=[],n=[];this.curIndex=0;for(var i=this.curIndex;i<this.configQAData.length&&i!=this.curIndex+Cal.MAX_SIZE;i++)t.push(this.configQAData[i]);for(var i=0;i<t.length;i++)e.push(i);e=lxl.MathUtil.getRandomArrBySortArr(e,12);for(var i=0;i<e.length;i++)n.push(t[e[i]]);this.curQs2=n},e.prototype.getQuestionsByTiaoZhan=function(){var t=[];return t.push(this.curQs2[this.curIndex]),this.curQs.push(this.curQs2[this.curIndex]),this.curIndex++,t},e.prototype.getQuestionsRestart=function(){this.curQs2=[],this.curQs=[];for(var t=0;t<this.cuoTiBen.length;t++){var e=lxl.Tool.copyObject(this.cuoTiBen[t]);this.curQs2.push(e)}var n=Cal.MAX_SIZE-this.curQs2.length;this.curIndex==Cal.MAX_SIZE&&(this.curIndex=0);for(var t=this.curIndex;t<this.curIndex+n;t++){var e=this.configQAData[t];this.curQs2.push(e)}this.curIndex=0},e.prototype.insertCuoTi=function(t){this.cuoTiBen.push(t)},e.prototype.getIndexsByCount=function(t){for(var e=0;t>e;e++)this.indexs.push(Math.floor(this._gradeMaxCount[this.curGrade-1]*Math.random()));this.indexs=lxl.Tool.delSame(this.indexs),this.indexs.length<t&&this.getIndexsByCount(t)},e.prototype.getQuestionByKnowledgeIndex=function(t){if(2==t&&this.curTestIndex++,this.curKnowledges.length-this.curTestIndex<=0)return void(this.curTestIndex=0);var e=this.curKnowledges[this.curKnowledges.length-this.curTestIndex-1];return this.setConfigQAByKnowledge(e),this.configQAData[this.indexs[t]]},e.prototype.getQuestionByCurShift=function(){var t=Math.floor((this.configQAData.length-5)*Math.random()),e=[];if(t<=this.configQAData.length-this.plan[this.curShift][0])for(var n=0;n<this.plan[this.curShift][0];n++)e.push(this.configQAData[t+n]);return 0==e.length&&lxl.logs.fatal("随机到最大值。"),e},e.prototype.setConfigQAByKnowledge=function(t,e){void 0===e&&(e=!1),this.configQAData=[];for(var n=0;n<this.configTotalData.length;n++)if(this.configTotalData[n].k==this.curGrade.toString()){for(var i=0;i<this.configTotalData[n].v.length;i++)this.configTotalData[n].v[i].knowledge.knowledge==t.knowledge&&this.configQAData.push(this.configTotalData[n].v[i]);break}this.configQAData.length>=20?Cal.MAX_SIZE=20:Cal.MAX_SIZE=this.configQAData.length},e.prototype.updateConfigKnowledgeState=function(t){for(var e=this.getKnowledgeByGrade(this.curGrade),n=0;n<e.length;n++)if(e[n].knowledge==t.knowledge){e[n].pass=t.pass;break}},e.prototype.updateNeedCheckKnowledgesState=function(t){for(var e=0;e<this.needCheckKnowledges.length;e++)if(this.needCheckKnowledges[e].knowledge==t.knowledge){this.needCheckKnowledges[e].pass=t.pass;break}},e.prototype.getKnowledgeByGrade=function(t){for(var e=0;6>e;e++)if(this.configKnowledgeData[e].k==t.toString())return this.curKnowledges=this.configKnowledgeData[e].v,this.configKnowledgeData[e].v;return[]},e.prototype.getAllKnowledge=function(e){void 0===e&&(e=!1);for(var n,i=[],s=[],r=function(r){n=0==e?JSON.parse(Res.getRes("grade"+r+"Normal_txt")):JSON.parse(Res.getRes("grade"+r+"Test_txt"));var o=[],l=[];n.forEach(function(e){l.push(new t.Knowledge(e.k));var n=new t.Question;n.index=e.i,n.knowledge=new t.Knowledge(e.k),n.grade=e.g,n.answer=e.a,n.question=e.q,o.push(n)}),l=a.delSame(l),l.reverse(),o.reverse();var h=new lxl.data.Map(r.toString(),l);i.push(h);var c=new lxl.data.Map(r.toString(),o);s.push(c)},a=this,o=1;6>o;o++)r(o);return this.configTotalData=s,this.configKnowledgeData=i,i},e.prototype.delSame=function(t){for(var e=[],n={},i=0;i<t.length;i++)n[t[i].knowledge]||(e.push(t[i]),n[t[i].knowledge]=1);return e},e.prototype.loadMasterData=function(t,e){t.call(e)},e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e}();t.CalManager=e,__reflect(e.prototype,"app.CalManager")}(app||(app={}));var lxl;!function(t){var e=t.ui.AlertPanel,n=t.ui.ConfirmPanel,i=function(t){function i(){var e=t.call(this)||this;return e.touchEnabled=!0,e}return __extends(i,t),Object.defineProperty(i.prototype,"alertPanel",{get:function(){return null==this._alertPanel&&(this._alertPanel=new e,this.addChildAt(this._alertPanel,0)),this._alertPanel},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"confirmPanel",{get:function(){return null==this._confirmPanel&&(this._confirmPanel=new n,this.addChildAt(this._confirmPanel,0)),this._confirmPanel},enumerable:!0,configurable:!0}),Object.defineProperty(i,"instance",{get:function(){return null==this._instance&&(this._instance=new i),this._instance},enumerable:!0,configurable:!0}),i.showAlert=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this.instance.alertPanel.show(t,e,n)},i.showConfirm=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this.instance.confirmPanel.show(t,e,n,i)},i}(t.ui.CLayer);t.Alert=i,__reflect(i.prototype,"lxl.Alert")}(lxl||(lxl={}));var lxl;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(n,e),n.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.stage.scaleMode=egret.StageScaleMode.NO_SCALE,this.root=new t.ui.CLayer,this.popLayer=new t.ui.CLayer,this.popLayer.touchEnabled=!1,this.shape=new egret.Shape,this._logo=new eui.Image;var n=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",n),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.addEventListener(egret.Event.RESIZE,this._resizeHandler,this),Res.addListener(t.CEvent.LOAD_CONFIG_COMPLETE,this._conConfigComplete,this),this.preURL=t.Tool.callJS("getURL"),Res.loadConfig(this.preURL+"resource/default.res.json",this.preURL+"resource/")},n.prototype._conConfigComplete=function(e){Res.removeListener(t.CEvent.LOAD_CONFIG_COMPLETE,this._conConfigComplete,this);var n=new eui.Theme(this.preURL+"resource/default.thm.json",this.stage);n.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),Res.addListener(t.CEvent.LOAD_GROUP_COMPLETE,this._onResourceLoadComplete,this),Res.loadGroup("preload")},n.prototype._resizeHandler=function(t){this.shape.graphics.clear(),this.shape.graphics.beginFill(10053120),this.shape.graphics.drawRect(0,0,this.width,this.height),this.shape.graphics.endFill()},n.prototype.onThemeLoadComplete=function(t){this.isThemeLoadEnd=!0,this.createScene()},n.prototype._onResourceLoadComplete=function(e){"preload"==e.data.groupName?(this.loading=new t.LoadingUI,this.loading.width=this.width,this.loading.height=this.height,this.loading.createView(),this.stage.addChild(this.loading),Res.addListener(t.CEvent.LOAD_PROGRESS,this._onResourceProgress,this),Res.loadGroup("main")):egret.Tween.get(this.loading).to({alpha:0},1e3).call(this.resourceComplete,this)},n.prototype.resourceComplete=function(){this.stage.removeChild(this.loading),this.isResourceLoadEnd=!0,this.createScene(),Res.removeListener(t.CEvent.LOAD_GROUP_COMPLETE,this._onResourceLoadComplete,this)},n.prototype._onResourceProgress=function(t){this.loading.setProgress(t.data.itemsLoaded,t.data.itemsTotal)},n.prototype.createScene=function(){var e=this;this.isThemeLoadEnd&&this.isResourceLoadEnd&&(this.start(function(){e.root.delegate=e,e.stage.addChild(e.root),e.stage.addChild(e.popLayer),e._logo.source="img_logo_png",e._logo.x=20,e._logo.y=20,e._logo.addEventListener(egret.TouchEvent.TOUCH_TAP,e._logoHandler,e),e.stage.addChild(e._logo),"web"==egret.Capabilities.runtimeType&&(document.onkeydown=e.keyDownHandler),e.shape.graphics.beginFill(10053120),e.shape.graphics.drawRect(0,0,e.width,e.height),e.shape.graphics.endFill(),e.shape.alpha=0,e.shape.visible=!1,e.stage.addChild(e.shape),t.Toast.getInstance().init(e.popLayer,Res.getRes("img_tishi_kuang_png"))},this),t.CDispatcher.getInstance().addListener(t.CEvent.EYE_CHANGE,this.changeModel,this),t.CDispatcher.getInstance().addListener(t.CEvent.SHOW_LOGO_CHANGE,this.changeLogo,this))},n.prototype._logoHandler=function(e){t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.SHOW_INFO))},n.prototype.changeLogo=function(t){this._logo.visible=!this._logo.visible},n.prototype.keyDownHandler=function(e){switch(e.keyCode){case 32:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.SPACE,"space"));break;case 37:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.LEFT,"left"));break;case 38:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.UP,"up"));break;case 39:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.RIGHT,"right"));break;case 40:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.DOWN,"down"));break;case 96:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_0,"0"));break;case 97:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_1,"1"));break;case 98:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_2,"2"));break;case 99:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_3,"3"));break;case 100:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_4,"4"));break;case 101:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_5,"5"));break;case 102:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_6,"6"));break;case 103:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_7,"7"));break;case 104:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_8,"8"));break;case 105:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_9,"9"));break;case 106:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_MULTIPLY,"*"));break;case 107:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_ADD,"+"));break;case 109:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_SUBTRACT,"-"));break;case 110:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY__,"."));break;case 111:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_DIVIDE,"/"));break;case 13:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_ENTER,"submit"));break;case 108:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_ENTER,"submit"));break;case 46:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_DEL,"clear"));break;case 48:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_0,"0"));break;case 49:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_1,"1"));break;case 50:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_2,"2"));break;case 51:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_3,"3"));break;case 52:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_4,"4"));break;case 53:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_5,"5"));break;case 54:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_6,"6"));break;case 55:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_7,"7"));break;case 56:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_8,"8"));break;case 57:t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.KEY_9,"9"))}},n.prototype.changeModel=function(e){var n=this;0==this.shape.visible?(this.shape.alpha=0,this.shape.visible=!0,egret.Tween.get(this.shape).to({alpha:.35},1e3,egret.Ease.quadOut).call(function(){t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.PROTECTE_EYE,1))},this)):egret.Tween.get(this.shape).to({alpha:0},1e3,egret.Ease.quintIn).call(function(){n.shape.visible=!1,t.CDispatcher.getInstance().dispatch(new t.CEvent(t.CEvent.PROTECTE_EYE,0))},this)},n.prototype.start=function(t,e){},n}(t.ui.CLayer);t.Application=e,__reflect(e.prototype,"lxl.Application")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function e(){this.resManager=new t.ResManager}return e.prototype.connectServer=function(){this.dataManager=new t.DataManager,this.dataManager.addListener(t.CEvent.CONNECT_SERVER,this.connectServerComplete,this)},e.prototype.connectServerComplete=function(t){},e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e}();t.GlobalData=e,__reflect(e.prototype,"lxl.GlobalData")}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){var e=t.call(this,lxl.Config.SKIN_PATH+"DlgDrawSkin.exml")||this;return e._isErase=!1,e}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.btn_earse.addEventListener(lxl.CEvent.CLICK,this._clearHandler,this),this.btn_save.addEventListener(lxl.CEvent.CLICK,this._saveHandler,this),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this._touchBegin,this);var e=new egret.Shape;e.graphics.beginFill(0,.8),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0),this._shape=new egret.Shape,this.addChild(this._shape),this._shape.graphics.lineStyle(2,10066329)},e.prototype._clearHandler=function(t){this._shape.graphics.clear(),this._shape.graphics.lineStyle(2,10066329)},e.prototype._saveHandler=function(t){var e=new egret.RenderTexture;e.drawToTexture(this._shape,new egret.Rectangle(0,0,this.stage.stageWidth,this.stage.stageHeight)),e.saveToFile("image/png","screen_snap.png",new egret.Rectangle(0,0,this.stage.stageWidth,this.stage.stageHeight))},e.prototype._closeHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.CLOSE))},e.prototype._touchBegin=function(t){this._shape.graphics.moveTo(t.stageX,t.stageY),this._shape.graphics.lineTo(t.stageX,t.stageY),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this._touchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this._touchEnd,this)},e.prototype._touchMove=function(t){this._shape.graphics.lineTo(t.stageX,t.stageY)},e.prototype._touchEnd=function(t){this._shape.graphics.lineTo(t.stageX,t.stageY),this.removeEventListener(egret.TouchEvent.TOUCH_END,this._touchEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this._touchMove,this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.btn_earse.removeEventListener(lxl.CEvent.CLICK,this._clearHandler,this),this.btn_save.removeEventListener(lxl.CEvent.CLICK,this._saveHandler,this),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this._touchBegin,this)},e}(lxl.CComponent);t.DlgDraw=e,__reflect(e.prototype,"app.DlgDraw")}(app||(app={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"DlgPrint.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this);var e;e=new egret.Shape,e.graphics.beginFill(0,.6),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0);for(var n=0;20>n;n++)this["q"+n].text="",this["a"+n].text="";for(var i=[],s=[],n=0;n<Cal.configQAData.length;n++)i.push(n);i=lxl.MathUtil.getRandomArrBySortArr(i,12);for(var n=0;n<i.length;n++)s.push(Cal.configQAData[i[n]]);for(var n=0;n<Cal.MAX_SIZE;n++)this["q"+n].text="("+(n+1)+")"+s[n].question,this["a"+n].text="("+(n+1)+")"+s[n].answer;this.lab_questions.text=Cal.configQAData[0].knowledge.knowledge,this.lab_answers.text=Cal.configQAData[0].knowledge.knowledge+"的答案","web"==egret.Capabilities.runtimeType&&egret.Tween.get(this).wait(500).call(function(){window.print()})},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(lxl.CComponent);t.DlgPrint=e,__reflect(e.prototype,"app.DlgPrint")}(app||(app={}));var app;!function(t){var e=function(e){function n(){var t=e.call(this,lxl.Config.SKIN_PATH+"DlgQuestion.exml")||this;return t._isTiaoZhan=!1,t._hasDraw=!1,t._hasPrint=!1,t._arrShift=[],t._answers=[],t._qArr=[],t._timer=new egret.Timer(20),t}return __extends(n,e),n.prototype.onActivity=function(){e.prototype.onActivity.call(this),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.SHOW_LOGO_CHANGE)),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_0,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_1,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_2,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_3,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_4,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_5,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_6,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_7,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_8,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_9,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY__,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_ENTER,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_DEL,this._keyClickHandler,this);var t;t=new egret.Shape,t.graphics.beginFill(0,.6),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),this.addChildAt(t,0),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this);for(var n=0;10>n;n++)this["btn_"+n].needAniComplete=!1,this["btn_"+n].addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this);this.btn_pri.addEventListener(lxl.CEvent.CLICK,this._printHandler,this),this.btn_pnt.addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_clear.addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_submit.eps=1e3,this.btn_submit.addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this._timer.addEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),this.btn_test.addEventListener(lxl.CEvent.CLICK,this._testHandler,this),this._insertQuestion(),1==this._isTiaoZhan?(this.lab_timu.text="第"+Cal.curIndex+"/"+Cal.curQs2.length+"题",this._timer.start(),this.lab_time.text="",this.lab_timu.visible=!0):(this._timer.reset(),this.lab_time.text="",this.lab_timu.visible=!1)},n.prototype._testHandler=function(e){0==this._hasDraw&&(this._hasDraw=!0,this._dlgDraw=new t.DlgDraw,this.pop(this._dlgDraw),this._dlgDraw.addEventListener(lxl.CEvent.CLOSE,this._closeTestHandler,this))},n.prototype._closeTestHandler=function(t){this._hasDraw=!1,this._dlgDraw.removeEventListener(lxl.CEvent.CLOSE,this._closeTestHandler,this),this._dlgDraw.dispose()},n.prototype._printHandler=function(e){return"web"!=egret.Capabilities.runtimeType||1!=lxl.Tool.isPC_Mode()?void this.animation():void(0==this._hasPrint&&(this._hasPrint=!0,this._dlgPrint=new t.DlgPrint,this.pop(this._dlgPrint),this._dlgPrint.addEventListener(egret.TouchEvent.TOUCH_TAP,this._closePrint,this)))},n.prototype.animation=function(){var t=this;this.g_totast.alpha=0,this.g_totast.visible=!0,egret.Tween.get(this.g_totast).to({alpha:1},300,egret.Ease.quintOut).wait(1e3).to({alpha:0},500,egret.Ease.quintIn).call(function(){t.g_totast.visible=!1})},n.prototype._closePrint=function(t){this._hasPrint=!1,this._dlgPrint.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._closePrint,this),this._dlgPrint.dispose()},n.prototype._startGame=function(){this._insertQuestion(),1==this._isTiaoZhan?(this.lab_timu.text="第"+Cal.curIndex+"/"+Cal.curQs2.length+"题",this._timer.start()):this._timer.reset()},n.prototype._timerHandler=function(t){20*this._timer.currentCount>Cal.tiaoZhanSeconds&&(Cal.tiaoZhanSeconds=20*this._timer.currentCount),this.lab_time.text=lxl.TimerUtils.formatTimeByMilSecond(20*this._timer.currentCount)},Object.defineProperty(n.prototype,"isTiaoZhan",{set:function(t){this._isTiaoZhan=t},enumerable:!0,configurable:!0}),n.prototype._keyClickHandler=function(t){this._sound=Res.getRes("anniu_mp3"),this._sound.play(0,1),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.ANSWER_CLICK,t.param))},n.prototype._btnClickHandler=function(t){this._sound=Res.getRes("anniu_mp3"),this._sound.play(0,1),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.ANSWER_CLICK,t.param.target.name))},n.prototype._closeHandler=function(t){Cal.curShift=0,this._answers=[],this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK,0))},n.prototype._checkout=function(t){var e=this;if(Cal.plan[Cal.curShift][0]==this._answers.length){for(var n=0,i=0;i<this.group.numChildren;i++){var s=this.group.getChildAt(i).showAnswer();n+=s}Cal.plan[Cal.curShift][0]==n?(this._arrShift.push(1),Cal.plan[Cal.curShift][1]==this._arrShift.length&&(Cal.curShift++,n=0,this._arrShift=[])):Cal.plan[Cal.curShift][2]<=Cal.plan[Cal.curShift][0]-n?(Cal.curShift=Cal.curShift<=0?0:--Cal.curShift,n=0,this._arrShift=[]):(this._arrShift=[],n=0),this._answers=[],egret.Tween.get(this).wait(200).call(function(){Cal.curShift>=3?(Cal.curShift=0,e._showSuccess()):e._insertQuestion()},this)}},n.prototype._checkout2=function(t){var e=this;if(Cal.curQs.length>=Cal.MAX_SIZE){if(this.btn_submit.touchEnabled=!1,this._dlgtzResult)return;for(var n=0;n<this.group.numChildren;n++){var i=this.group.getChildAt(n).showAnswer();0==i&&Cal.insertCuoTi(this.group.getChildAt(n).question)}return void this._showTiaoZhanResult()}for(var n=0;n<this.group.numChildren;n++){var i=this.group.getChildAt(n).showAnswer();0==i&&Cal.insertCuoTi(this.group.getChildAt(n).question)}this._arrShift=[],this._answers=[],egret.Tween.get(this).wait(200).call(function(){Cal.curQs.length>=Cal.MAX_SIZE?(e.lab_timu.text="第"+Cal.curIndex+"/"+Cal.curQs2.length+"题",e._showTiaoZhanResult()):(e._insertQuestion(),e.lab_timu.text="第"+Cal.curIndex+"/"+Cal.curQs2.length+"题")},this)},n.prototype._insertQuestion=function(){for(var e=this,n=this.group.numChildren,i=n-1;i>=0;i--)this.group.getChildAt(i).removeEventListener(egret.TouchEvent.TOUCH_TAP,this._qunitClick,this),0==this._isTiaoZhan?this.group.getChildAt(i).removeEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout,this):this.group.getChildAt(i).removeEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout2,this),this.group.getChildAt(i).dispose();this.group.removeChildren();var s;s=1==this._isTiaoZhan?Cal.getQuestionsByTiaoZhan():Cal.getQuestionByCurShift(),1==s.length?this.img_yi.visible=!0:this.img_yi.visible=!1,this._qArr=s;for(var i=0;i<this._qArr.length;i++){var r=new t.QuestionUnit;r.param=r,r.index=i,r.addEventListener(egret.TouchEvent.TOUCH_TAP,this._qunitClick,this),0==this._isTiaoZhan?r.addEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout,this):r.addEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout2,this),r.once(lxl.CEvent.LOAD_SKIN_COMPLETE,function(t){t.target.setQuestion(e._qArr[t.target.index]),e.group.addChild(t.target),1==e._qArr.length&&(e._answers.push(t.target.index),e._answers=lxl.Tool.delSame(e._answers),t.target.focusIn()),0==e.group.numChildren&&lxl.logs.log("group中没有子元素")
},this)}},n.prototype._qunitClick=function(t){for(var e=0;e<this._qArr.length;e++)this.group.getChildAt(e).focusOut();this._answers.push(t.target.parent.index),this._answers=lxl.Tool.delSame(this._answers),t.target.parent.focusIn()},n.prototype._showTiaoZhanResult=function(){this._dlgtzResult||(this._dlgtzResult=new t.DlgTiaoZhanResult,this._dlgtzResult.once(lxl.CEvent.BACK,this.back2Handler,this),this.pop(this._dlgtzResult,!0),this._timer.reset())},n.prototype.back2Handler=function(t){this._dlgtzResult.dispose(),this._dlgtzResult=null,1==t.param?(this.btn_submit.touchEnabled=!0,Cal.getQuestionsRestart(),Cal.curQs=[],Cal.curIndex=0,Cal.cuoTiBen=[],Cal.tiaoZhanSeconds=0,this._startGame()):(Cal.curQs=[],Cal.cuoTiBen=[],Cal.tiaoZhanSeconds=0,this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK,0)))},n.prototype._showSuccess=function(){this._dlg=new t.DlgSuccess,this._dlg.once(lxl.CEvent.BACK,this._backHandler,this),this.pop(this._dlg,!0)},n.prototype._backHandler=function(t){Cal.curShift=0,this._answers=[],this._dlg.dispose(),this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK,1))},n.prototype.dispose=function(){e.prototype.dispose.call(this),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this);for(var t=this.group.numChildren-1;t>=0;t--)0==this._isTiaoZhan?this.group.getChildAt(t).removeEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout,this):this.group.getChildAt(t).removeEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout2,this),this.group.removeChildAt(t);for(var t=0;10>t;t++)this["btn_"+t].removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this);this._qArr=[],this._arrShift=[],this._answers=[],Cal.curQs=[],Cal.curQs2=[],Cal.cuoTiBen=[],this.btn_pnt.removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_clear.removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_submit.removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.isTiaoZhan=!1,this._timer.removeEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_0,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_1,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_2,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_3,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_4,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_5,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_6,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_7,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_8,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_9,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY__,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_ENTER,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_DEL,this._keyClickHandler,this),this.btn_pri.removeEventListener(lxl.CEvent.CLICK,this._printHandler,this)},n}(lxl.CComponent);t.DlgQuestion=e,__reflect(e.prototype,"app.DlgQuestion")}(app||(app={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"DlgSuccess.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this);var e;e=new egret.Shape,e.graphics.beginFill(0,.6),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChildAt(e,0),this.ani(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this),this._sound=Res.getRes("jieguo_mp3"),this._sound.play(0,1)},e.prototype._clickHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK))},e.prototype.ani=function(){var t=this;egret.Tween.get(this.img_bg).to({rotation:359},2e3).call(function(){t.img_bg.rotation=0,t.ani()},this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this),egret.Tween.removeAllTweens()},e}(lxl.CComponent);t.DlgSuccess=e,__reflect(e.prototype,"app.DlgSuccess")}(app||(app={}));var app;!function(t){var e=function(e){function n(){var t=e.call(this,lxl.Config.SKIN_PATH+"DlgTestSkin.exml")||this;return t._needCheckKnowledgeIndexPoint=[],t._curIndex=0,t._hasDraw=!1,t}return __extends(n,e),n.prototype.onActivity=function(){e.prototype.onActivity.call(this),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.SHOW_LOGO_CHANGE)),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KNOWLEDGE_SELECT,this._testCheckHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_0,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_1,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_2,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_3,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_4,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_5,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_6,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_7,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_8,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_9,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY__,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_ENTER,this._keyClickHandler,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KEY_DEL,this._keyClickHandler,this);var t;t=new egret.Shape,t.graphics.beginFill(0,.6),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),this.addChildAt(t,0),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this);for(var n=0;10>n;n++)this["btn_"+n].addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this);this.btn_pnt.addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_clear.addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_submit.eps=1e3,this.btn_submit.addEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),Cal.indexs=[],Cal.getIndexsByCount(3),this._insertQuestion(),this.lab_num.text=Cal.curTestIndex+1+"/"+Cal.curKnowledges.length,this.btn_test.addEventListener(lxl.CEvent.CLICK,this._testHandler,this)},n.prototype._testHandler=function(e){0==this._hasDraw&&(this._hasDraw=!0,this._dlgDraw=new t.DlgDraw,this.pop(this._dlgDraw),this._dlgDraw.addEventListener(lxl.CEvent.CLOSE,this._closeTestHandler,this))},n.prototype._closeTestHandler=function(t){this._dlgDraw.removeEventListener(lxl.CEvent.CLOSE,this._closeTestHandler,this),this._dlgDraw.dispose()},n.prototype.dispose=function(){e.prototype.dispose.call(this),Cal.curShift=0,Cal.curTestIndex=0,Cal.needCheckKnowledges=[],this._needCheckKnowledgeIndexPoint=[],this._curIndex=0,this._curKnowledge=null,this._q=null,lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KNOWLEDGE_SELECT,this._testCheckHandler,this),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this);for(var t=0;10>t;t++)this["btn_"+t].removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this);this.btn_pnt.removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_clear.removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this),this.btn_submit.removeEventListener(lxl.CEvent.CLICK,this._btnClickHandler,this);for(var n=this.group.numChildren,t=n-1;t>=0;t--)this.group.getChildAt(t).removeEventListener(egret.TouchEvent.TOUCH_TAP,this._qunitClick,this),this.group.getChildAt(t).dispose();lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_0,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_1,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_2,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_3,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_4,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_5,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_6,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_7,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_8,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_9,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY__,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_ENTER,this._keyClickHandler,this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.KEY_DEL,this._keyClickHandler,this)},n.prototype._testCheckHandler=function(e){Cal.setConfigQAByKnowledge(e.param),this._curKnowledge=e.param,this._dlgQ=new t.DlgQuestion,this._dlgTestResult.pop(this._dlgQ,!0),this._dlgQ.addEventListener(lxl.CEvent.BACK,this._backMainHandler,this)},n.prototype._backMainHandler=function(t){1==t.param&&(this._curKnowledge.pass=!0,Cal.updateNeedCheckKnowledgesState(this._curKnowledge)),this._dlgQ.removeEventListener(lxl.CEvent.BACK,this._backMainHandler,this),this._dlgQ.dispose(),this._dlgQ=null,this._dlgTestResult.updateView()},n.prototype._keyClickHandler=function(t){this._sound=Res.getRes("anniu_mp3"),this._sound.play(0,1),"submit"!=t.param?lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.ANSWER_CLICK,t.param)):this._checkout(t)},n.prototype._btnClickHandler=function(t){this._sound=Res.getRes("anniu_mp3"),this._sound.play(0,1),"submit"!=t.param.target.name?lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.ANSWER_CLICK,t.param.target.name)):this._checkout(t)},n.prototype._closeHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK,0))},n.prototype._qunitClick=function(t){this.group.getChildAt(0).focusOut();var e=lxl.Tool.copyObject(t);e.target.parent.focusIn()},n.prototype._checkout=function(e){var n=this,i=this.group.numChildren;if(!(i>1||0==i)){var s=this.group.getChildAt(0).showAnswer();if(0==s){var r=Cal.curTestIndex;this._needCheckKnowledgeIndexPoint.push(r),Cal.curTestIndex++,this._curIndex=0}else 2==this._curIndex&&Cal.curTestIndex+1==Cal.curKnowledges.length&&(Cal.curTestIndex=Cal.curKnowledges.length);if(Cal.curKnowledges.length==Cal.curTestIndex){Cal.needCheckKnowledges=[];for(var a=0;a<this._needCheckKnowledgeIndexPoint.length;a++){var o=Cal.curKnowledges[Cal.curKnowledges.length-1-this._needCheckKnowledgeIndexPoint[a]];Cal.needCheckKnowledges.push(o)}for(var l=this.group.numChildren,a=l-1;a>=0;a--)this.group.getChildAt(a).removeEventListener(egret.TouchEvent.TOUCH_TAP,this._qunitClick,this),this.group.getChildAt(a).dispose();0==Cal.needCheckKnowledges.length?this._showSuccess():(this._dlgTestResult=new t.DlgTestResult,this.pop(this._dlgTestResult),this._dlgTestResult.addEventListener(lxl.CEvent.CLOSE,this._closeTestResultHandler,this))}else egret.Tween.get(this).wait(200).call(function(){n._insertQuestion()},this)}},n.prototype._showSuccess=function(){this._dlg=new t.DlgSuccess,this._dlg.once(lxl.CEvent.BACK,this._backHandler,this),this.pop(this._dlg,!0)},n.prototype._backHandler=function(t){Cal.curShift=0,this._dlg.dispose(),this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK,0))},n.prototype._closeTestResultHandler=function(t){this._dlgTestResult.removeEventListener(lxl.CEvent.CLOSE,this._closeTestResultHandler,this),this._dlgTestResult.dispose(),Cal.curTestIndex=0,Cal.needCheckKnowledges=[],this._needCheckKnowledgeIndexPoint=[],this._closeHandler(t)},n.prototype._insertQuestion=function(){for(var e=this,n=this.group.numChildren,i=n-1;i>=0;i--)this.group.getChildAt(i).removeEventListener(egret.TouchEvent.TOUCH_TAP,this._qunitClick,this),this.group.getChildAt(i).dispose();var s=Cal.getQuestionByKnowledgeIndex(this._curIndex);if(this._curIndex=this._curIndex+1,Cal.curTestIndex+1>Cal.curKnowledges.length?this.lab_num.text=Cal.curTestIndex+"/"+Cal.curKnowledges.length:this.lab_num.text=Cal.curTestIndex+1+"/"+Cal.curKnowledges.length,void 0!=s){3==this._curIndex&&(this._curIndex=0),this._q=s;var r=new t.QuestionUnit;r.param=r,r.addEventListener(egret.TouchEvent.TOUCH_TAP,this._qunitClick,this),r.addEventListener(lxl.CEvent.QUESTION_CHECKOUT,this._checkout,this),r.once(lxl.CEvent.LOAD_SKIN_COMPLETE,function(t){t.target.setQuestion(e._q),e.group.addChild(t.target),t.target.focusIn()},this)}},n}(lxl.CComponent);t.DlgTest=e,__reflect(e.prototype,"app.DlgTest")}(app||(app={}));var app;!function(t){var e=function(e){function n(){return e.call(this,lxl.Config.SKIN_PATH+"DlgTestResultSkin.exml")||this}return __extends(n,e),n.prototype.onActivity=function(){var n=this;e.prototype.onActivity.call(this);var i;i=new egret.Shape,i.graphics.beginFill(0,.6),i.graphics.drawRect(0,0,this.width,this.height),i.graphics.endFill(),this.addChildAt(i,0),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this._sound=Res.getRes("jieguo_mp3"),this._sound.play(0,1);for(var s=function(e){var i=new t.ResultItem;i.data=Cal.needCheckKnowledges[e],i.once(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){n.group.addChild(i)},r)},r=this,a=Cal.needCheckKnowledges.length-1;a>=0;a--)s(a)},n.prototype._closeHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.CLOSE))},n.prototype.updateView=function(){for(var t=Cal.needCheckKnowledges.length-1;t>=0;t--)this.group.getChildAt(t).data=Cal.needCheckKnowledges[t],this.group.getChildAt(t).updateData()},n.prototype.dispose=function(){e.prototype.dispose.call(this),this.group.removeChildren(),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this)},n}(lxl.CComponent);t.DlgTestResult=e,__reflect(e.prototype,"app.DlgTestResult")}(app||(app={}));var app;!function(t){var e=function(e){function n(){return e.call(this,lxl.Config.SKIN_PATH+"DlgTiaoZhanResult.exml")||this}return __extends(n,e),n.prototype.onActivity=function(){var n=this;e.prototype.onActivity.call(this);var i;i=new egret.Shape,i.graphics.beginFill(0,.6),i.graphics.drawRect(0,0,this.width,this.height),i.graphics.endFill(),this.addChildAt(i,0),this.lab_percent.text=100-Math.floor(100*Cal.cuoTiBen.length/Cal.curQs.length)+"%",this.lab_time.text=lxl.TimerUtils.formatTimeByMilSecond(Cal.tiaoZhanSeconds),this.btn_close.addEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this.btn_restart.addEventListener(lxl.CEvent.CLICK,this._restartHandler,this),this._sound=Res.getRes("jieguo_mp3"),this._sound.play(0,1);for(var s=function(e){var i=new t.TiaoZhanResultItem;i.data=Cal.cuoTiBen[e],i.once(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){n.group.addChild(i)},r)},r=this,a=Cal.cuoTiBen.length-1;a>=0;a--)s(a)},n.prototype._closeHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK))},n.prototype._restartHandler=function(t){this.dispatchEvent(new lxl.CEvent(lxl.CEvent.BACK,1))},n.prototype.dispose=function(){e.prototype.dispose.call(this),this.group.removeChildren(),this.btn_close.removeEventListener(lxl.CEvent.CLICK,this._closeHandler,this),this.btn_restart.removeEventListener(lxl.CEvent.CLICK,this._restartHandler,this)},n}(lxl.CComponent);t.DlgTiaoZhanResult=e,__reflect(e.prototype,"app.DlgTiaoZhanResult")}(app||(app={}));var app;!function(t){var e=function(e){function n(){return e.call(this,lxl.Config.SKIN_PATH+"MainView.exml")||this}return __extends(n,e),n.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_tabBtns.addEventListener(lxl.CEvent.TAB_ACTIVITY,this._updateTabView,this),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.KNOWLEDGE_ACTIVITY,this._showQuestionDlg,this),this.testUnit.addEventListener(lxl.CEvent.GRADE_SELECT,this._gradeSelHandler,this),this.btn_tabBtns.setActIndex(0),lxl.CDispatcher.getInstance().addListener(lxl.CEvent.SHOW_INFO,this._showInfo,this)},n.prototype._showInfo=function(t){},n.prototype._gradeSelHandler=function(e){this._dlgTest=new t.DlgTest,this.pop(this._dlgTest,!0),this._dlgTest.addEventListener(lxl.CEvent.BACK,this._backTestHandler,this)},n.prototype._backTestHandler=function(t){lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.SHOW_LOGO_CHANGE)),this._dlgTest.removeEventListener(lxl.CEvent.BACK,this._backTestHandler,this),this._dlgTest.dispose(),this._dlgTest=null},n.prototype._showQuestionDlg=function(e){Cal.setConfigQAByKnowledge(e.param),this._curKnowledge=e.param,this._dlgQ=new t.DlgQuestion,1==this.btn_tabBtns.curActIndex?this._dlgQ.isTiaoZhan=!1:2==this.btn_tabBtns.curActIndex&&(Cal.getTiaoZhanQs(),this._dlgQ.isTiaoZhan=!0),this.pop(this._dlgQ,!0),this._dlgQ.addEventListener(lxl.CEvent.BACK,this._backMainHandler,this)},n.prototype._backMainHandler=function(t){1==t.param&&(this._curKnowledge.pass=!0,Cal.updateConfigKnowledgeState(this._curKnowledge),this.btn_tabBtns.setActIndex(1)),lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.SHOW_LOGO_CHANGE)),this._dlgQ.removeEventListener(lxl.CEvent.BACK,this._backMainHandler,this),this._dlgQ.dispose(),this._dlgQ=null},n.prototype._updateTabView=function(t){this.gradeUnit.visible=!1,this.testUnit.visible=!1,Cal.curMode=t.param,0==t.param?(this.img_frontBg.visible=!0,this.img_bg.source="img_bg_png",this.testUnit.visible=!0):1==t.param?(this.img_frontBg.visible=!1,this.img_bg.source="img_bg_gongGu_png",this.gradeUnit.setGrade(Cal.curGrade),this.gradeUnit.visible=!0):2==t.param&&(this.img_frontBg.visible=!1,this.img_bg.source="img_bg_gongGu_2_png",this.gradeUnit.setGrade(Cal.curGrade),this.gradeUnit.visible=!0)},n.prototype.dispose=function(){e.prototype.dispose.call(this)},n}(lxl.CComponent);t.MainView=e,__reflect(e.prototype,"app.MainView")}(app||(app={}));var app;!function(t){var e=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.knowledge="",this.pass=!1,this.knowledge=t,this.pass=e}return t}();t.Knowledge=e,__reflect(e.prototype,"app.Knowledge")}(app||(app={}));var app;!function(t){var e=function(){function t(){}return t}();t.Question=e,__reflect(e.prototype,"app.Question")}(app||(app={}));var app;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.onActivity=function(){var n=this;e.prototype.onActivity.call(this);var i=new t.MainView;i.width=this.stage.stageWidth,i.height=this.stage.stageHeight,i.name="man",i.once(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){Cal.getAllKnowledge(),n.addChild(i)},this),i.addEventListener(lxl.CEvent.BACK,this._backMainHandler,this)},n.prototype._backMainHandler=function(t){this.getChildByName("man").removeEventListener(lxl.CEvent.BACK,this._backMainHandler,this),this.getChildByName("man").dispose()},n}(lxl.ui.CLayer);t.MainSence=e,__reflect(e.prototype,"app.MainSence")}(app||(app={}));var Res=lxl.GlobalData.getInstance().resManager,Cal=app.CalManager.getInstance(),Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(e,n){t.prototype.start.call(this,e,n),lxl.GlobalData.getInstance().root=this,this.root=new app.MainSence,this.stage.scaleMode=egret.StageScaleMode.EXACT_FIT,this.stage.orientation=egret.OrientationMode.LANDSCAPE,Cal.loadMasterData(e,n)},e}(lxl.Application);__reflect(Main.prototype,"Main");var app;!function(t){var e=function(e){function n(){return e.call(this,lxl.Config.SKIN_PATH+"GradeUnitSKin.exml")||this}return __extends(n,e),n.prototype.onActivity=function(){e.prototype.onActivity.call(this),this.btn_left.addEventListener(lxl.CEvent.CLICK,this._updateView,this),this.btn_right.addEventListener(lxl.CEvent.CLICK,this._updateView,this)},n.prototype._updateView=function(t){"btn_left"==t.param.target.name?(Cal.curGrade--,Cal.curGrade=Cal.curGrade<1?1:Cal.curGrade):"btn_right"==t.param.target.name&&(Cal.curGrade++,Cal.curGrade=Cal.curGrade>5?5:Cal.curGrade),this.setGrade(Cal.curGrade)},n.prototype.setGrade=function(e){var n=this;switch(e){case 1:this.lab_grade.text="一年级";break;case 2:this.lab_grade.text="二年级";break;case 3:this.lab_grade.text="三年级";break;case 4:this.lab_grade.text="四年级";break;case 5:this.lab_grade.text="五年级"}this.group.removeChildren(),this.scroll.viewport.scrollV=0;for(var i=Cal.getKnowledgeByGrade(e),s=function(e){var s=new t.KnowledgeUnit;s.param=e,s.addEventListener(lxl.CEvent.LOAD_SKIN_COMPLETE,function(){s.setKnowledge(i[s.param]),n.group.addChild(s)},s)},r=0;r<i.length;r++)s(r)},n.prototype.dispose=function(){e.prototype.dispose.call(this)},n}(lxl.CComponent);t.GradeUnit=e,__reflect(e.prototype,"app.GradeUnit")}(app||(app={}));var lxl;!function(t){var e=function(){function t(){}return t}();e.MC_PATH="resource/assets/mc/",e.SKIN_PATH="resource/app_skins/",e.DATA_PATH="resource/assets/data/",e.GRID_SIZE=100,t.Config=e,__reflect(e.prototype,"lxl.Config")}(lxl||(lxl={}));var lxl;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.str=new egret.ByteArray,e.arr=[],e}return __extends(e,t),e}(Object);t.BaseData=e,__reflect(e.prototype,"lxl.data.BaseData");var n=function(){function t(t,e){this.k=t,this.v=e}return t}();t.Map=n,__reflect(n.prototype,"lxl.data.Map")}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.getCode=function(){return""},e.prototype.handlerPackage=function(t){},e.prototype.configure=function(t){},e.prototype.send=function(t){void 0===t&&(t=null)},e}(t.CDispatcher);e.BaseDataHandler=n,__reflect(n.prototype,"lxl.data.BaseDataHandler",["lxl.interfaces.IDataHandler","egret.IEventDispatcher"])}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(t){var n=e.call(this)||this;return n._dataManager=t,n._netConnet=new egret.HttpRequest,n}return __extends(n,e),n.prototype.errorHandler=function(e){t.logs.log(e.type),this._dataManager.handlerSecurityError()},n.prototype.send=function(e,n,i){if(this._netConnet.open(e.getFullUrl(),egret.HttpMethod.POST),this._cb=n,this._ctx=i,this._netConnet.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),this._netConnet.addEventListener(egret.Event.COMPLETE,this._completeHandler,this),e.getParamLen()>0){this._netConnet.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var s=t.Tool.MapToField(e.getParam());this._netConnet.send(s)}else this._netConnet.send()},n.prototype._completeHandler=function(t){this._cb(this._netConnet.response,this._ctx),this.dispose()},n.prototype.dispose=function(){this._netConnet.hasEventListener(egret.IOErrorEvent.IO_ERROR)&&(this._netConnet.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),this._netConnet.removeEventListener(egret.Event.COMPLETE,this._cb,this._ctx))},n}(egret.HashObject);e.NetData=n,__reflect(n.prototype,"lxl.data.NetData")}(e=t.data||(t.data={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(t){var e=function(){function e(e,n){this._code=e,this._o=new t.BaseData,this._o=n}return e.prototype.code=function(){return this._code},e.prototype.readObj=function(){return this._o},e.prototype.readObjStr=function(){var t=JSON.stringify(this._o);if(this._o.propertyIsEnumerable(""))for(var e in this._o)t.concat(e,this._o[e]);return t},e}();t.PackageIn=e,__reflect(e.prototype,"lxl.data.PackageIn",["lxl.interfaces.IPackageIn"])}(e=t.data||(t.data={}))}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){var e=t.call(this,lxl.Config.SKIN_PATH+"AnswerUnitSkin.exml")||this;return e.isRightAnswer=!1,e}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this)},e.prototype.setText=function(t){this.lab_answer.text=t},e.prototype.setState=function(t){this.img_state.visible=!0,"right"==t?(this.lab_answer.textColor=8582996,this.img_state.source="img_duigou_png"):"wrong"==t?(this.lab_answer.textColor=16008260,this.img_state.source="img_cuowu_png"):"click"==t?this.img_state.source="img_xuanzhong_png":"reset"==t&&(this.img_state.visible=!1)},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(lxl.CComponent);t.AnswerUnit=e,__reflect(e.prototype,"app.AnswerUnit")}(app||(app={}));var lxl;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._dataHandlers=[],t}return __extends(n,e),n.prototype.disConnect=function(){this._netData&&(this._netData.dispose(),this._netData=null)},n.prototype.close=function(){},n.prototype.setDataConnect=function(e,n){null==this._netData&&(this._netData=new t.data.NetData(this))},n.prototype.addDataHandler=function(e){var n=new t.data.Map(e.getCode(),e);null==t.Tool.getValueByKey(this._dataHandlers,e.getCode())&&t.Tool.setMapValue(this._dataHandlers,n)},n.prototype.removeDataHandler=function(e){null!=t.Tool.getValueByKey(this._dataHandlers,e)&&t.Tool.removeMapValue(this._dataHandlers,e)},n.prototype.getDataHandler=function(e){return t.Tool.getValueByKey(this._dataHandlers,e)},n.prototype.handlerPackage=function(e){var n=t.Tool.getValueByKey(this._dataHandlers,e.code());null!=n&&(n.configure(e),n.handlerPackage(null))},n.prototype.send=function(t,e,n){null!=this._netData&&this._netData.send(t,e,n)},n.prototype.handlerSecurityError=function(){},n.prototype.handlerConnect=function(){this.dispatch(new t.CEvent(t.CEvent.CONNECT_SERVER))},n}(t.CDispatcher);t.DataManager=e,__reflect(e.prototype,"lxl.DataManager",["lxl.interfaces.IDataManager"])}(lxl||(lxl={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?i(s):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function s(t){e.call(i,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var app;!function(t){var e=function(t){function e(){var e=t.call(this,lxl.Config.SKIN_PATH+"KnowledgeUnit.exml")||this;return e._isMove=!1,e}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this._moveHandler,this)},e.prototype._moveHandler=function(t){this._isMove=!0},e.prototype._clickHandler=function(t){0==this._isMove&&lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.KNOWLEDGE_ACTIVITY,this._knowledge))},e.prototype.setKnowledge=function(t){this.lab_knowledge.text=t.knowledge,t.pass?2==Cal.curMode?this.img_pass.visible=!1:this.img_pass.visible=!0:this.img_pass.visible=!1,this._knowledge=t},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this)},e}(lxl.CComponent);t.KnowledgeUnit=e,__reflect(e.prototype,"app.KnowledgeUnit")}(app||(app={}));var lxl;!function(t){var e=function(){function t(){}return t}();t.CEventInit=e,__reflect(e.prototype,"lxl.CEventInit",["EventInit"]);var n=function(t){function e(e,n,i,s,r){void 0===n&&(n=null),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===r&&(r=!1);var a=t.call(this,e,s,r,n)||this;return a._param=n,a}return __extends(e,t),Object.defineProperty(e.prototype,"param",{get:function(){return this._param},enumerable:!0,configurable:!0}),e}(egret.Event);n.CONNECT_SERVER="CEVENT::CONNECT_SERVER",n.CONNECT_FAIL="CEVENT::CONNECT_FAIL",n.LOAD_SKIN_COMPLETE="CEVENT::LOAD_SKIN_COMPLETE",n.LOAD_CONFIG_COMPLETE="CEVENT::LOAD_CONFIG_COMPLETE",n.LOAD_GROUP_COMPLETE="CEVENT::LOAD_GROUP_COMPLETE",n.LOAD_PROGRESS="CEVENT::LOAD_PROGRESS",n.CLICK="CEVENT::CLICK",n.SEL_COMPLETE="CEVENT::SEL_COMPLETE",n.SUCCESS="CEVENT::SUCCESS",n.BACK="CEVENT::BACK",n.UP="CEVENT::UP",n.DOWN="CEVENT::DOWN",n.LEFT="CEVENT::LEFT",n.RIGHT="CEVENT::RIGHT",n.SPACE="CEVENT::SPACE",n.STAGE_CLICK="CEVENT::STAGE_CLICK",n.PROTECTE_EYE="CEVENT::PROTECTE_EYE",n.EYE_CHANGE="CEVENT::EYE_CHANGE",n.TAB_ACTIVITY="CEVENT::TAB_ACTIVITY",n.KNOWLEDGE_ACTIVITY="CEVENT::KNOWLEDGE_ACTIVITY",n.QUESTION_CHECKOUT="CEVENT::QUESTION_CHECKOUT",n.QUESTION_CHECKOUT_TEST="CEVENT::QUESTION_CHECKOUTTest",n.ANSWER_CLICK="CEVENT::ANSWER_CLICK",n.ANSWER_CLICK_OUT="CEVENT::ANSWER_CLICK_OUT",n.GRADE_SELECT="CEVENT::GRADE_SELECT",n.KNOWLEDGE_SELECT="CEVENT::KNOWLEDGE_SELECT",n.SHOW_LOGO_CHANGE="CEVENT::SHOW_LOGO_CHANGE",n.SHOW_INFO="CEVENT::SHOW_INFO",n.KEY_0="CEVENT::KEY_0",n.KEY_1="CEVENT::KEY_1",n.KEY_2="CEVENT::KEY_2",n.KEY_3="CEVENT::KEY_3",n.KEY_4="CEVENT::KEY_4",n.KEY_5="CEVENT::KEY_5",n.KEY_6="CEVENT::KEY_6",n.KEY_7="CEVENT::KEY_7",n.KEY_8="CEVENT::KEY_8",n.KEY_9="CEVENT::KEY_9",n.KEY__="CEVENT::KEY__",n.KEY_ENTER="CEVENT::KEY_ENTER",n.KEY_DEL="CEVENT::KEY_DEL",n.KEY_ADD="CEVENT::KEY_ADD",n.KEY_MULTIPLY="CEVENT::KEY_MULTIPLY",n.KEY_SUBTRACT="CEVENT::KEY_SUBTRACT",n.KEY_DIVIDE="CEVENT::KEY_DIVIDE",t.CEvent=n,__reflect(n.prototype,"lxl.CEvent")}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){var e=t.call(this,lxl.Config.SKIN_PATH+"QuestionUnitSkin.exml")||this;return e.curAnswerName="",e.customAnswer="",e}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.btn_clear.addEventListener(lxl.CEvent.CLICK,this._clearHandler,this)},e.prototype._clearHandler=function(t){this.customAnswer="",this.lab_answer.text=this.customAnswer},e.prototype.focusIn=function(){lxl.CDispatcher.getInstance().addListener(lxl.CEvent.ANSWER_CLICK,this._clickAnswerHandler2,this),this.lab_question.textColor=16743936,this.lab_answer.textColor=16743936},e.prototype.focusOut=function(){lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.ANSWER_CLICK,this._clickAnswerHandler2,this),this.lab_question.textColor=0,this.lab_answer.textColor=0},e.prototype._clickAnswerHandler2=function(t){"pnt"==t.param?this.customAnswer+=".":"clear"==t.param?this.customAnswer="":"submit"==t.param?this.dispatchEvent(new lxl.CEvent(lxl.CEvent.QUESTION_CHECKOUT)):this.customAnswer+=t.param,this.lab_answer.text=this.customAnswer},e.prototype.showAnswer=function(){var t=0;return""==this.customAnswer?(this.img_bg.source="img_dacuo_png",this._sound=Res.getRes("dacuo_mp3"),this._sound.play(0,1),t):(this.customAnswer==this.question.answer?(t=1,this._sound=Res.getRes("dadui_mp3"),this._sound.play(0,1),this.img_bg.source="img_dadui_png"):(this._sound=Res.getRes("dacuo_mp3"),this._sound.play(0,1),this.img_bg.source="img_dacuo_png"),t)},e.prototype.setQuestion=function(t){this.question=t,this.lab_question.text=this.question.question},e.prototype.dispose=function(){t.prototype.dispose.call(this),lxl.CDispatcher.getInstance().removeListener(lxl.CEvent.ANSWER_CLICK,this._clickAnswerHandler2,this),this.btn_clear.removeEventListener(lxl.CEvent.CLICK,this._clearHandler,this),this.index=null,this.question=null,this.curAnswerName="",this.customAnswer=""},e}(lxl.CComponent);t.QuestionUnit=e,__reflect(e.prototype,"app.QuestionUnit")}(app||(app={}));var lxl;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.createView=function(){this.textField=new egret.TextField;var e=t.Tool.createBitmapByName("logo_png"),n=1.775*this.height,i=this.height*(e.height/1080),s=n*(e.width/1920);e.width=s,e.height=i,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=this.width/2,e.y=this.height/2,this.textField.textColor=0,this.textField.size=20,this.textField.width=s,this.textField.height=100,this.textField.anchorOffsetX=this.textField.width/2,this.textField.anchorOffsetY=this.textField.height/2,this.textField.y=this.height/2+120,this.textField.x=this.width/2,this.textField.textAlign="center",this.addChild(this.textField),this.addChild(e)
},n.prototype.setProgress=function(t,e){},n}(egret.Sprite);t.LoadingUI=e,__reflect(e.prototype,"lxl.LoadingUI")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.fatal=function(t){alert(t)},t}();t.Log=e,__reflect(e.prototype,"lxl.Log"),t.logs=new e}(lxl||(lxl={}));var lxl;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._w=0,e._h=0,e}return __extends(e,t),e.prototype.setSize=function(t,e){this._w=t,this._h=e},e.prototype.animation=function(){var t=this;egret.Tween.get(this).to({alpha:1},300,egret.Ease.quintOut).wait(1e3).to({alpha:0},500,egret.Ease.quintIn).call(function(){t.parent&&t.parent.removeChild(t)})},e.prototype.init=function(t,e){this._cont=t,this._txtrToastBg=e},e}(egret.DisplayObjectContainer);t.Pops=e,__reflect(e.prototype,"lxl.Pops");var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this._bg=new egret.Bitmap(this._txtrToastBg),this._bg.anchorOffsetX=this._bg.width/2,this._bg.anchorOffsetY=this._bg.height/2,this._tx=new egret.TextField,this._tx.size=26,this._tx.bold=!0,this._tx.textColor=16777215,this._tx.stroke=2,this._tx.strokeColor=0,this._tx.fontFamily="微软雅黑",this._tx.textAlign=egret.HorizontalAlign.CENTER},e.prototype.inits=function(t){void 0===t&&(t=""),this._tx.text=t,this._tx.height=30,this._tx.width=this._w,this._tx.anchorOffsetX=this._w/2,this._tx.anchorOffsetY=this._tx.height/2,this._bg.x=this.stage.stageWidth/2,this._bg.y=this.stage.stageHeight/2,this._tx.x=this._bg.x,this._tx.y=this._bg.y,this.alpha=1,this.addChild(this._bg),this.addChild(this._tx)},e.prototype.launch=function(t,e){void 0===e&&(e=!0),this._cont&&(this.setSize(this._cont.stage.stageWidth,this._cont.stage.stageHeight),this._cont.addChild(this),this.inits(t),e&&this.animation())},e.getInstance=function(){return null==this._t&&(this._t=new e),this._t},e}(e);t.Toast=n,__reflect(n.prototype,"lxl.Toast")}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"ResultItemSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this),this.lab_knowledge.text=this.data.knowledge,this.img_pass.visible=this.data.pass},e.prototype.updateData=function(){this.lab_knowledge.text=this.data.knowledge,this.img_pass.visible=this.data.pass},e.prototype._clickHandler=function(t){lxl.CDispatcher.getInstance().dispatch(new lxl.CEvent(lxl.CEvent.KNOWLEDGE_SELECT,this.data))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._clickHandler,this)},e}(lxl.CComponent);t.ResultItem=e,__reflect(e.prototype,"app.ResultItem")}(app||(app={}));var lxl;!function(t){var e=function(){function t(){}return t.isPC_Mode=function(){return"Windows PC"==egret.Capabilities.os?!0:"Mac OS"==egret.Capabilities.os?!0:!1},t.callJS=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return"native"==egret.Capabilities.runtimeType?"":window[t].apply(window,e)},t.MapToField=function(t){var e=[];return t.forEach(function(t){e.push(t.k+"="+encodeURIComponent(t.v))},this),e.join("&")},t.getValueByKey=function(t,e){for(var n,i=0;i<t.length;i++)if(t[i].k==e)return n=t[i].v;return null},t.setMapValue=function(t,e){for(var n=0;n<t.length;n++)if(t[n].k==e.k)return void(t[n].v=e.v);t.push(e)},t.getMapValue=function(t,e){for(var n=0;n<t.length;n++)if(t[n].k==e)return t[n];return null},t.removeMapValue=function(t,e){for(var n=0;n<t.length;n++)t[n].k==e&&t.splice(n,1)},t.createBitmapByName=function(t){var e=new egret.Bitmap,n=Res.getRes(t);return e.texture=n,e},t.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},t.delSame=function(t){for(var e=[],n={},i=0;i<t.length;i++)n[t[i]]||(e.push(t[i]),n[t[i]]=1);return e},t}();t.Tool=e,__reflect(e.prototype,"lxl.Tool")}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){var e=t.call(this,lxl.Config.SKIN_PATH+"TabButtonBar.exml")||this;return e.curActIndex=0,e}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.btn_0.tabIndex=0,this.btn_1.tabIndex=1,this.btn_2.tabIndex=2,this.btn_0.addEventListener(lxl.CEvent.CLICK,this._tabClickHandler,this),this.btn_1.addEventListener(lxl.CEvent.CLICK,this._tabClickHandler,this),this.btn_2.addEventListener(lxl.CEvent.CLICK,this._tabClickHandler,this)},e.prototype._tabClickHandler=function(t){this.setActIndex(t.param.target.tabIndex)},e.prototype.setActIndex=function(t){for(var e=0;3>e;e++)this["btn_"+e].currentState="normal";this.curActIndex=t,this["btn_"+t].currentState="sel",this.dispatchEvent(new lxl.CEvent(lxl.CEvent.TAB_ACTIVITY,t))},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(lxl.CComponent);t.TabButtonBar=e,__reflect(e.prototype,"app.TabButtonBar")}(app||(app={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(){var t=e.call(this)||this;return t._eps=0,t.needAniComplete=!0,t._clickEps=0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t._onClick,t),t.addEventListener(eui.UIEvent.ADDED_TO_STAGE,t.onActivity,t),t}return __extends(n,e),n.prototype.onActivity=function(t){},Object.defineProperty(n.prototype,"eps",{get:function(){return this._eps},set:function(t){this._eps=t,this._timer?(this._timer.reset(),this._timer.removeEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),this._timer=new egret.Timer(this._eps),this._timer.addEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),this._timer.start()):(this._timer=new egret.Timer(this._eps),this._timer.addEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),this._timer.start())},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.eps>0&&(this._timer=new egret.Timer(this.eps),this._timer.addEventListener(egret.TimerEvent.TIMER,this._timerHandler,this),this._timer.start())},n.prototype._timerHandler=function(t){this._clickEps=this._clickEps==this.eps?this.eps:this._clickEps+this.eps},n.prototype._onClick=function(e){this.scaleX=this.scaleY=.9;var n=t.Tool.copyObject(e);this.needAniComplete?egret.Tween.get(this).to({scaleX:.9,scaleY:.9},200).to({scaleX:1,scaleY:1},100).call(function(){this.eps==this._clickEps&&(this._clickEps=0,this.dispatchEvent(new t.CEvent(t.CEvent.CLICK,n)))},this):(egret.Tween.get(this).to({scaleX:.9,scaleY:.9},200).to({scaleX:1,scaleY:1},100),this.dispatchEvent(new t.CEvent(t.CEvent.CLICK,n)))},n}(eui.Button);e.CButton=n,__reflect(n.prototype,"lxl.ui.CButton")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"TestUnitSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.img_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this)},e.prototype._gradeClick=function(t){Cal.curGrade=parseInt(t.target.name);Cal.getKnowledgeByGrade(Cal.curGrade);this.dispatchEvent(new lxl.CEvent(lxl.CEvent.GRADE_SELECT))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.img_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this),this.img_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._gradeClick,this)},e}(lxl.CComponent);t.TestUnit=e,__reflect(e.prototype,"app.TestUnit")}(app||(app={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(){var t=e.call(this)||this;return t.hasActivi=!1,t.hasDispos=!1,t.addEventListener(eui.UIEvent.ADDED_TO_STAGE,t.onActivity,t),t.addEventListener(eui.UIEvent.REMOVED_FROM_STAGE,t.dispose,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t._clickHandler,t),t.funOnActivity=t.onActivity,t.funDispose=t.dispose,t}return __extends(n,e),n.prototype.onActivity=function(){for(var t=0;t<this.numChildren;t++)this.doAcivity(this.getChildAt(t));this.hasActivi=!0},n.prototype.doAcivity=function(t){if(t.hasOwnProperty("funOnActivity")&&0==t.hasActivi&&t.funOnActivity(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doAcivity(t.getChildAt(e))},n.prototype._clickHandler=function(e){var n=t.Tool.copyObject(e);this.dispatchEvent(new t.CEvent(t.CEvent.CLICK,n))},n.prototype.dispose=function(){for(var t=0;t<this.numChildren;t++)this.doDispos(this.getChildAt(t));this.parent.removeChild(this),this.hasDispos=!0},n.prototype.doDispos=function(t){if(t.hasOwnProperty("funDispose")&&0==t.hasDispos&&t.funDispose(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doDispos(t.getChildAt(e))},n.prototype.pop=function(e){var n=this;e.addEventListener(t.CEvent.LOAD_SKIN_COMPLETE,function(){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=n.stage.stageWidth/2,e.y=n.stage.stageHeight/2,n.addChild(e)},this),this.addChild(e)},n.prototype.removeChildByName=function(t){this.removeChild(this.getChildByName(t))},n}(eui.Group);e.CGroup=n,__reflect(n.prototype,"lxl.ui.CGroup")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(n){var i=e.call(this)||this;return i.hasActivi=!1,i.hasDispos=!1,i.addEventListener(eui.UIEvent.ADDED_TO_STAGE,i.onActivity,i),i.addEventListener(eui.UIEvent.COMPLETE,i.loadComplete,i),i.skinName=t.Tool.callJS("getURL")+n,i.funOnActivity=i.onActivity,i.funDispose=i.dispose,i}return __extends(n,e),n.prototype.loadComplete=function(){var e=this;egret.Tween.get(this).wait(.1).call(function(){e.dispatchEvent(new egret.Event(t.CEvent.LOAD_SKIN_COMPLETE,e.param)),e.addEventListener(eui.UIEvent.REMOVED,e.dispose,e)},this)},n.prototype.onActivity=function(){for(var t=0;t<this.numChildren;t++)this.doAcivity(this.getChildAt(t));this.hasActivi=!0},n.prototype.doAcivity=function(t){if(t.hasOwnProperty("funOnActivity")&&0==t.hasActivi&&t.funOnActivity(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doAcivity(t.getChildAt(e))},n.prototype.dispose=function(t){var e=this;void 0===t&&(t=!1),this.removeEventListener(eui.UIEvent.COMPLETE,this.loadComplete,this),this.removeEventListener(eui.UIEvent.ADDED_TO_STAGE,this.onActivity,this);for(var n=0;n<this.numChildren;n++)this.doDispos(this.getChildAt(n));1==t&&egret.Tween.get(this).to({y:0-this.stage.stageHeight/2,alpha:0},100).call(function(){e.parent&&e.parent.removeChild(e)},this),this.hasDispos=!0},n.prototype.doDispos=function(t){if(t.hasOwnProperty("funDispose")&&0==t.hasDispos&&t.funDispose(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doDispos(t.getChildAt(e))},n.prototype.createChildren=function(){e.prototype.createChildren.call(this)},n.prototype.removeChildByName=function(t){this.removeChild(this.getChildByName(t))},n}(eui.ItemRenderer);e.CItemRenderer=n,__reflect(n.prototype,"lxl.ui.CItemRenderer")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"TiaoZhanResultItemSkin.exml")||this}return __extends(e,t),e.prototype.onActivity=function(){t.prototype.onActivity.call(this),this.lab_question.text=this.data.question},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(lxl.CComponent);t.TiaoZhanResultItem=e,__reflect(e.prototype,"app.TiaoZhanResultItem")}(app||(app={}));var app;!function(t){var e=function(t){function e(){return t.call(this,lxl.Config.SKIN_PATH+"TopTitle.exml")||this}return __extends(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(lxl.CComponent);t.TopTitle=e,__reflect(e.prototype,"app.TopTitle")}(app||(app={}));var lxl;!function(t){var e;!function(e){var n=function(e){function n(){var t=e.call(this)||this;return t.hasActivi=!1,t.hasDispos=!1,t.addEventListener(eui.UIEvent.ADDED_TO_STAGE,t.onActivity,t),t.addEventListener(eui.UIEvent.REMOVED_FROM_STAGE,t.dispose,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t._clickHandler,t),t.funOnActivity=t.onActivity,t.funDispose=t.dispose,t}return __extends(n,e),n.prototype.onActivity=function(){for(var t=0;t<this.numChildren;t++)this.doAcivity(this.getChildAt(t));this.hasActivi=!0},n.prototype.doAcivity=function(t){if(t.hasOwnProperty("funOnActivity")&&0==t.hasActivi&&t.funOnActivity(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doAcivity(t.getChildAt(e))},n.prototype._clickHandler=function(e){var n=t.Tool.copyObject(e);this.dispatchEvent(new t.CEvent(t.CEvent.CLICK,n))},n.prototype.dispose=function(){for(var t=0;t<this.numChildren;t++)this.doDispos(this.getChildAt(t));this.parent.removeChild(this),this.hasDispos=!0},n.prototype.doDispos=function(t){if(t.hasOwnProperty("funDispose")&&0==t.hasDispos&&t.funDispose(),0!=t.numChildren)for(var e=0;e<t.numChildren;e++)this.doDispos(t.getChildAt(e))},n}(eui.Button);e.TabButton=n,__reflect(n.prototype,"lxl.ui.TabButton")}(e=t.ui||(t.ui={}))}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function e(){}return e.randomTrianglePoints=function(e,n){for(var i=[],s=new egret.Point(Math.floor(100*Math.random()+300),Math.floor(100*Math.random()+200)),r=Math.random()*e+s.x,a=Math.sqrt(Math.pow(e,2)-Math.pow(r-s.x,2))+s.y,o=new egret.Point(r,a),l=this.getKBFromTwoPoint(s,o),h=a+r/l[0],c=l[0]*(h-l[1])/(Math.pow(l[0],2)+1),p=Math.pow(l[0],2)*(h-l[1])/(Math.pow(l[0],2)+1)+l[1],d=new egret.Point(c,p),u=new egret.Point,_=c;c+n>_&&(u.x=_,u.y=-1*_/l[0]+h,egret.Point.distance(u,d)!=n);_++);i=[s,u,o];for(var _=0;_<i.length;_++){if(i[_].x>t.GlobalData.getInstance().root.width){i=this.randomTrianglePoints(e,n);break}if(_==i.length-1)return i}},e.drawRandomTriangle=function(e,n,i){var s=[];return s=this.randomTrianglePoints(n,i),e.lineStyle(1,9934743),e.beginFill(47246,.8),e.moveTo(s[0].x,s[0].y),e.lineTo(s[1].x,s[1].y),e.lineTo(s[2].x,s[2].y),e.lineTo(s[0].x,s[0].y),e.endFill(),t.logs.log("d: "+n+", h: "+i),t.logs.log(s.toString()),s},e.drawTriangleByStaticSide=function(t,e){t.lineStyle(1,9934743),t.beginFill(10932490,.8),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y),t.lineTo(e[2].x,e[2].y),t.lineTo(e[0].x,e[0].y),t.endFill()},e.drawParallelLine=function(t,e,n,i){var s=this.getKBFromTwoPoint(e,n)[0],r=i.y-s*i.x,a=0,o=-1*r/s,l=640,h=(l-r)/s;return t.lineStyle(1,9934743),t.moveTo(i.x,i.y),t.lineTo(o,a),t.moveTo(i.x,i.y),t.lineTo(h,l),[s,r]},e.getKBFromTwoPoint=function(t,e){var n=(e.x*t.y-t.x*e.y)/(e.x-t.x),i=(e.y-n)/e.x;return[i,n]},e.drawArrowWithVector=function(t,e,n){var i=10,s=30,r=e.x,a=e.y,o=n.x,l=n.y,h=Math.atan2(a-l,r-o)*(180/Math.PI);t.lineStyle(5,16733542),t.moveTo(o,l),t.lineTo(o+i*Math.cos((h-s)*(Math.PI/180)),l+i*Math.sin((h-s)*(Math.PI/180))),t.moveTo(o,l),t.lineTo(o+i*Math.cos((h+s)*(Math.PI/180)),l+i*Math.sin((h+s)*(Math.PI/180))),t.moveTo(r,a),t.lineTo(o,l)},e.drawFan=function(t,e,n,i,s){t.beginFill(e,50),t.lineStyle(0,16711680),t.moveTo(s.x,s.y);var r=0;r=Math.abs(r)>360?360:r;var a=Math.ceil(Math.abs(r)/45),o=r/a;o=o*Math.PI/180,i=i*Math.PI/180,t.lineTo(s.x+n*Math.cos(i),s.y+n*Math.sin(i));for(var l=1;a>=l;l++){i+=o;var h=i-o/2,c=s.x+n/Math.cos(o/2)*Math.cos(h),p=s.y+n/Math.cos(o/2)*Math.sin(h),d=s.x+n*Math.cos(i),u=s.y+n*Math.sin(i);t.curveTo(c,p,d,u)}360!=r&&t.lineTo(s.x,s.y),t.endFill()},e}();t.GTool=e,__reflect(e.prototype,"lxl.GTool")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.getRandomNumByArr=function(t){t.sort(function(t,e){return e-t});for(var e=[],n=0;n<t[0]/10;n/=10){n=10*++n;for(var i=!0,s=0;s<t.length;s++)t[s]==n&&(i=!1);1==i&&e.push(n)}var r=Math.floor(e.length*Math.random())-1;return 0>r&&(r=0),0==e.length?10:e[r]},t.getRandomArrBySortArr=function(t,e){void 0===e&&(e=0);var n=[],i=Math.random();if(12==e){for(var s=t.length-1;s>Math.floor(t.length/2);s--)n.push(t[s]);for(var s=Math.floor(t.length/2);s>=0;s--)n.push(t[s]);for(var s=2;s<Math.floor(t.length/2)+1;s++){var r=n[s];n[s]=n[Math.floor(n.length/2)+1-s],n[Math.floor(n.length/2)+1-s]=r}for(var s=Math.floor(t.length/2)-1;s<t.length;s++){var r=n[s];n[s]=n[n.length-s],n[n.length-s]=r}for(var s=0;s<Math.floor(t.length/2);s++){var r=n[s];n[s]=n[Math.floor(n.length/2)-s],n[Math.floor(n.length/2)-s]=r}for(var s=0;s<t.length-1;s++){var a=Math.floor(3*Math.random()),r=n[a];n[a]=n[a+2],n[a+2]=r}for(var s=1;3>s;s++){var r=n[s];n[s]=n[n.length-s],n[n.length-s]=r}}else{if(i>.5){for(var s=t.length-1;s>Math.floor(t.length/2);s--)n.push(t[s]);for(var s=Math.floor(t.length/2);s>=0;s--)n.push(t[s]);for(var s=5;s<Math.floor(t.length/2)+5;s++){var r=n[s];n[s]=n[Math.floor(n.length/2)+5-s],n[Math.floor(n.length/2)+5-s]=r}for(var s=Math.floor(t.length/2)-5;s<t.length;s++){var r=n[s];n[s]=n[n.length-s],n[n.length-s]=r}for(var s=0;s<Math.floor(t.length/2);s++){var r=n[s];n[s]=n[Math.floor(n.length/2)-s],n[Math.floor(n.length/2)-s]=r}}else{for(var s=Math.floor(t.length/2);s>=0;s--)n.push(t[s]);for(var s=t.length-1;s>Math.floor(t.length/2);s--)n.push(t[s]);for(var s=0;s<t.length-4;s++){var a=Math.floor(10*Math.random()),r=n[a];n[a]=n[a+2],n[a+2]=r}for(var s=4;s<t.length;s++){var r=n[s];n[s]=n[n.length-s],n[n.length-s]=r}for(var s=Math.floor(t.length/2)-5;s<t.length;s++){var r=n[s];n[s]=n[n.length-s],n[n.length-s]=r}}for(var s=0;s<t.length-1;s++){var a=Math.floor(10*Math.random()),r=n[a];n[a]=n[a+2],n[a+2]=r}for(var s=1;3>s;s++){var r=n[s];n[s]=n[n.length-s],n[n.length-s]=r}}return n},t.getPointDir=function(t){for(var e=t.length,n=[],i=0;e>i;i++)if(t[i+1]){var s=t[i],r=t[i+1],a=s.y-r.y,o=egret.Point.distance(s,r),l=Math.asin(a/o),h=57.29578*l,c=this.quadrant(s,r),p=this.getDirByAngQuad2(h,c);n.push(p)}var d=this.repDiff(n);return parseInt(d)},t.parseGestureDir=function(t){for(var e=t.length,n=[],i=0;e>i;i++)if(t[i+1]){var s=t[i],r=t[i+1],a=s.y-r.y,o=egret.Point.distance(s,r),l=Math.asin(a/o),h=57.29578*l,c=this.quadrant(s,r),p=this.getDirByAngQuad(h,c);n.push(p)}var d=this.repDiff(n),u=this.sweep(d);return u},t.repDiff=function(t){for(var e="",n=t.length,i=0,s=0;n>s;s++)i!=t[s]&&(i=t[s],e+=t[s]);return e},t.sweep=function(t){for(var e=-1,n=-1,i=this._symbol.length,s=0;i>s;s++){var r=this.Levenshtein_Distance_Percent(this._symbol[s],t);r>n&&(n=r,e=this._symbolG[s])}return.4>n&&(e=-1),e},t.getDirByAngQuad=function(t,e){switch(e){case 1:return 22.5>=t&&t>=0?1:67.5>=t&&t>22.5?8:7;case 2:return 22.5>=t&&t>=0?5:67.5>=t&&t>22.5?6:7;case 3:return-67.5>=t&&t>=-90?3:-22.5>=t&&t>-67.5?4:5;case 4:return-67.5>=t&&t>=-90?3:-22.5>=t&&t>-67.5?2:1}},t.getDirByAngQuad2=function(t,e){switch(e){case 1:return 30>=t&&t>=0?3:60>=t&&t>30?2:1;case 2:return 30>=t&&t>=0?10:60>=t&&t>30?11:12;case 3:return-60>=t&&t>=-90?7:-30>=t&&t>-60?8:9;case 4:return-60>=t&&t>=-90?6:-30>=t&&t>-60?5:4}},t.quadrant=function(t,e){return e.x>=t.x?e.y<=t.y?1:4:e.y<=t.y?2:3},t.Levenshtein_Distance=function(t,e){var n,i,s,r,a,o=t.length,l=e.length,h=[];if(0==o)return l;if(0==l)return o;for(n=0;o>=n;n++)h[n]=[],h[n][0]=n;for(i=0;l>=i;i++)h[0][i]=i;for(n=1;o>=n;n++)for(s=t.charAt(n-1),i=1;l>=i;i++)r=e.charAt(i-1),a=s==r?0:1,h[n][i]=this.Minimum(h[n-1][i]+1,h[n][i-1]+1,h[n-1][i-1]+a);return h[o][l]},t.Levenshtein_Distance_Percent=function(t,e){var n=t.length>e.length?t.length:e.length,i=this.Levenshtein_Distance(t,e);return 1-i/n},t.Minimum=function(t,e,n){return e>t?n>t?t:n:n>e?e:n},t}();e._symbol=["28","46","82","64","141","585","3","7","5","1","4321876","2345678"],e._symbolG=[0,0,3,3,5,5,6,1,7,2,4,4],t.MathUtil=e,__reflect(e.prototype,"lxl.MathUtil")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function e(){}return e.getNumSp=function(e,n){void 0===n&&(n="");for(var i=new egret.Sprite,s=e.toString().split(""),r=0;r<s.length;r++){var a=t.Tool.createBitmapByName(n+s[r]+"_png");a.x=17*r,i.addChild(a)}return i.width=17*s.length,i.height=40,i},e}();t.NumberUtil=e,__reflect(e.prototype,"lxl.NumberUtil")}(lxl||(lxl={}));var lxl;!function(t){var e=function(){function t(){}return t.formatTimeByMilSecond=function(t){var e=t,n=Math.floor(e%1e3),i=Math.floor(e/1e3%60),s=Math.floor(e/1e3/60%60),r=(Math.floor(e/1e3/60/60%24),""),a="",o="";return r=100>n?"0"+n:""+n,a=10>i?"0"+i:""+i,o=10>s?"0"+s:""+s,o+":"+a+":"+r},t.formatTimeBySecond=function(t){var e="",n=Math.floor(t/60),i=t%60,s=Math.floor(n/60);return s>0?(n%=60,e=this.formatMinite(s)+":"+this.formatMinite(n)+":"+this.formatSecond(i)):e="00:"+this.formatMinite(n)+":"+this.formatSecond(i),e},t.formatMinite=function(t){var e="";return 10>t?e="0"+t:60>t?e=""+t:e},t.formatSecond=function(t){var e="";return 10>t?e="0"+t:59>=t?e=""+t:e},t}();t.TimerUtils=e,__reflect(e.prototype,"lxl.TimerUtils")}(lxl||(lxl={}));var lxl;!function(t){var e;!function(t){var e=function(){function e(e){this._code=e,this._o=new t.BaseData}return e.prototype.writeString=function(t){null==t?this._o.str.writeUTF(""):this._o.str.writeUTFBytes(t)},e.prototype.writeArray=function(t){t.length>0&&(this._o.arr=t)},e.prototype.getParamLen=function(){return this._o.arr.length},e.prototype.getParamByIndex=function(t){return t>=0?this._o.arr[t]:0},e.prototype.getParam=function(){return this._o.arr},e.prototype.code=function(){return this._code},e.prototype.getFullUrl=function(){return""},e}();t.PackageOut=e,__reflect(e.prototype,"lxl.data.PackageOut",["lxl.interfaces.IPackageOut"])}(e=t.data||(t.data={}))}(lxl||(lxl={}));